"0","# Calculate the multiple choice accuracy"
"0",""
"0","df.raw.merged <- df.raw.merged %>%"
"0","  mutate("
"0","    multiple_choice_accuracy = apply(., 1, function(row) {"
"0","      # Extract the first character from C_correct - it is the correct letter to click on"
"0","      correct_answer <- substr(row[[""C_correct""]], 1, 1)"
"0","      "
"0","      # Determine which of the click columns matches the correct answer"
"0","      clicked_column <- ifelse(row[[""A.numClicks""]] == 1, ""A"","
"0","                               ifelse(row[[""B.numClicks""]] == 1, ""B"","
"0","                                      ifelse(row[[""C.numClicks""]] == 1, ""C"","
"0","                                             ifelse(row[[""D.numClicks""]] == 1, ""D"", NA))))"
"0","      "
"0","      # Return 1 if the clicked column matches the correct answer, 0 otherwise"
"0","      if (!is.na(clicked_column) && clicked_column == correct_answer) {"
"0","        return(1)"
"0","      } else {"
"0","        return(0)"
"0","      }"
"0","    })"
"0","  )"
"0",""
"0","# Change the column the order"
"0","df.raw.merged <- df.raw.merged[c(""index"", ""participant"", ""wav_file"", ""old_name"", "
"0","                                 ""duration"", ""Experimen_audio.started"",""segment_text"", "
"0","                                 ""question"", ""C1"", ""C2"", ""C3"", ""C4"", ""C_correct"", "
"0","                                 ""A.numClicks"", ""B.numClicks"", ""C.numClicks"","
"0","                                 ""D.numClicks"", ""multiple_choice_accuracy"", "
"0","                                 ""likert_response"", ""summary"", ""summary_skipped"","
"0","                                 ""textbox.text"")]"
